[gd_scene load_steps=33 format=3 uid="uid://cjmjm576tv8rh"]

[ext_resource type="Script" path="res://src/player/player.gd" id="1_0eovg"]
[ext_resource type="PackedScene" uid="uid://bwnlwm7b72hj" path="res://src/player/abilities/dash.tscn" id="2_bnniu"]
[ext_resource type="Shader" path="res://src/player/damage_flash.gdshader" id="2_pf2lg"]
[ext_resource type="Texture2D" uid="uid://dohc4akcrtyvl" path="res://assets/idle.png" id="3_g712r"]
[ext_resource type="PackedScene" uid="uid://coluexsscex40" path="res://src/player/invincibility.tscn" id="3_hhsew"]
[ext_resource type="Texture2D" uid="uid://wo0m4xu0ivqx" path="res://assets/running.png" id="4_v8n5c"]
[ext_resource type="PackedScene" uid="uid://dlmayrogprxbi" path="res://src/player/menus.tscn" id="5_nwc5u"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gvm8e"]
shader = ExtResource("2_pf2lg")
shader_parameter/flash_color = Color(1, 1, 1, 1)
shader_parameter/flash_value = null

[sub_resource type="AtlasTexture" id="AtlasTexture_y531l"]
atlas = ExtResource("3_g712r")
region = Rect2(250, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_3irya"]
atlas = ExtResource("3_g712r")
region = Rect2(0, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_6s7cx"]
atlas = ExtResource("3_g712r")
region = Rect2(500, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_u75wg"]
atlas = ExtResource("3_g712r")
region = Rect2(750, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_ukvru"]
atlas = ExtResource("3_g712r")
region = Rect2(1000, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_eealw"]
atlas = ExtResource("3_g712r")
region = Rect2(1250, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_4ya5k"]
atlas = ExtResource("3_g712r")
region = Rect2(1500, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_gm7l6"]
atlas = ExtResource("3_g712r")
region = Rect2(1750, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_gxtfh"]
atlas = ExtResource("3_g712r")
region = Rect2(2000, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_ocn1n"]
atlas = ExtResource("3_g712r")
region = Rect2(2250, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_gmqe3"]
atlas = ExtResource("3_g712r")
region = Rect2(2500, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_85aty"]
atlas = ExtResource("3_g712r")
region = Rect2(2750, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_0dn1x"]
atlas = ExtResource("4_v8n5c")
region = Rect2(1250, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_5gewt"]
atlas = ExtResource("4_v8n5c")
region = Rect2(0, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_nqxa0"]
atlas = ExtResource("4_v8n5c")
region = Rect2(250, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_cdbvk"]
atlas = ExtResource("4_v8n5c")
region = Rect2(500, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_pv507"]
atlas = ExtResource("4_v8n5c")
region = Rect2(750, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_re2sw"]
atlas = ExtResource("4_v8n5c")
region = Rect2(1000, 0, 250, 250)

[sub_resource type="AtlasTexture" id="AtlasTexture_cn5tn"]
atlas = ExtResource("4_v8n5c")
region = Rect2(1500, 0, 250, 250)

[sub_resource type="SpriteFrames" id="SpriteFrames_hb6sx"]
animations = [{
"frames": [{
"duration": 50.0,
"texture": SubResource("AtlasTexture_y531l")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3irya")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_6s7cx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u75wg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ukvru")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_eealw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ya5k")
}, {
"duration": 10.0,
"texture": SubResource("AtlasTexture_gm7l6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gxtfh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ocn1n")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gmqe3")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_85aty")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_y531l")
}],
"loop": true,
"name": &"idle",
"speed": 12.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_0dn1x")
}],
"loop": true,
"name": &"jumping",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_5gewt")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_nqxa0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cdbvk")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pv507")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_re2sw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0dn1x")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_cn5tn")
}],
"loop": true,
"name": &"running",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_jwatu"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material:shader_parameter/flash_value")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [null]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:material")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [SubResource("ShaderMaterial_gvm8e")]
}

[sub_resource type="Animation" id="Animation_7v22d"]
resource_name = "flash"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:material")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [SubResource("ShaderMaterial_gvm8e"), SubResource("ShaderMaterial_gvm8e")]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i8n8f"]
_data = {
"RESET": SubResource("Animation_jwatu"),
"flash": SubResource("Animation_7v22d")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7bujn"]
size = Vector2(37, 58.75)

[node name="Player" type="CharacterBody2D"]
position = Vector2(592, 147)
scale = Vector2(3, 4)
script = ExtResource("1_0eovg")

[node name="Sprite2D" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_gvm8e")
position = Vector2(-0.95342, -5.17553)
scale = Vector2(0.335628, 0.264153)
sprite_frames = SubResource("SpriteFrames_hb6sx")
animation = &"running"

[node name="FlashAnimation" type="AnimationPlayer" parent="Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_i8n8f")
}

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(-1.16667, -4.375)
shape = SubResource("RectangleShape2D_7bujn")

[node name="Dash" parent="." instance=ExtResource("2_bnniu")]

[node name="Invincibility" parent="." instance=ExtResource("3_hhsew")]

[node name="menus" parent="." instance=ExtResource("5_nwc5u")]

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(0.25, 0.25)
limit_left = -2750
limit_top = -5250
limit_right = 19500
limit_bottom = 500

[node name="Coins" type="Label" parent="Camera2D"]
offset_left = -20.0
offset_top = -55.0
offset_right = 20.0
offset_bottom = -32.0
theme_override_font_sizes/font_size = 20
text = "0"
horizontal_alignment = 1

[node name="Health" type="Label" parent="Camera2D"]
unique_name_in_owner = true
offset_left = -41.0
offset_top = -79.0
offset_right = 19.0
offset_bottom = -56.0
text = "Health: 3"
